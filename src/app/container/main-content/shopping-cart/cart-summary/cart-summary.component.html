<form [formGroup]="setProductsQuantity" (ngSubmit)="shoppingCartData.orderSubmitHandler()">
  <mat-list>
    <!-- <mat-divider></mat-divider> -->

    <ul class="shopping-list-display">
      <li class="shopping-list-item"  *ngFor="let product of shoppingCartData.selectedProductsList">

        <div class="product-name">
          {{ product.name }}
        </div>

        <div class="product-quantity">
        Quantity:
        <input
          #productQuantity
          type="number"
          name="productQuantity"
          min="1"
          max="99"
          required
          (change)="shoppingCartData.setProductQuantity(product, productQuantity.value)"
          [value]="product.quantity"
          formControlName="productQuantity"
          (keypress)="lockInputTypingFromUser($event)"
           
        />
      </div>

      <div class="product-cost">
        {{ product.value * (product.quantity || 0) | currency: "BRL" }} <br>
        <span class="unity-price">R$ per unity: {{product.value | currency: "BRL" }}</span> 
      </div>

      <div class="button-remove-item">
        <button
          type="button"
          mat-stroked-button
          color="warn"
          (click)="shoppingCartData.removeItemFromCart(product.id)"
        >
          Remove Item
        </button>
      </div>

      </li>
    </ul>

    <!-- <mat-list-item class="shopping-list-display"  *ngFor="let product of shoppingCartData.selectedProductsList">
      <div>
        {{ product.name }}
      </div>
      Quantity:
      <input
        type="number"
        name="productQuantity"
        min="1"
        max="99"
        required
        (change)="
          shoppingCartData.setProductQuantity(product, productQuantity.value)
        "
        #productQuantity
        [value]="product.quantity"
        formControlName="productQuantity"
        (keypress)="lockInputTypingFromUser($event)"
      />
      Item cost: {{ product.value * (product.quantity || 0) | currency: "BRL" }}
      <button
        type="button"
        mat-stroked-button
        color="warn"
        (click)="shoppingCartData.removeItemFromCart(product.id)"
      >
        Remove Item
      </button>
    </mat-list-item> -->


    <!-- <mat-divider></mat-divider> -->

    <mat-list-item>
      Total:{{ shoppingCartData.totalCartCost | currency: "BRL" }}
    </mat-list-item>
  </mat-list>

  <button
    mat-raised-button
    color="primary"
    type="submit"
    routerLink="delivery-informations"
    [disabled]="setProductsQuantity.invalid"
  >
    Buy now!
  </button>
</form>
